================================================================================
üöÄ Enterprise Agent Platform Successfully Deployed!
================================================================================

Release Name:    {{ .Release.Name }}
Namespace:       {{ .Release.Namespace }}
App Version:     {{ .Chart.AppVersion }}
Chart Version:   {{ .Chart.Version }}

================================================================================
üìã DEPLOYED COMPONENTS
================================================================================

‚úÖ API Server:         {{ .Values.api.replicaCount }} replica(s)
‚úÖ Background Worker:  {{ .Values.worker.replicaCount }} replica(s)
{{- if .Values.frontend.enabled }}
‚úÖ Frontend:           {{ .Values.frontend.replicaCount }} replica(s)
{{- end }}
{{- if .Values.postgresql.enabled }}
‚úÖ PostgreSQL:         Enabled (with pgvector)
{{- end }}
{{- if .Values.redis.enabled }}
‚úÖ Redis:              Enabled
{{- end }}
{{- if .Values.litellm.enabled }}
‚úÖ LiteLLM Proxy:      Enabled
{{- end }}
{{- if .Values.vllm.enabled }}
‚úÖ vLLM:               Enabled ({{ .Values.vllm.gpuCount }} GPU(s))
{{- end }}

================================================================================
üîó ACCESS INSTRUCTIONS
================================================================================

{{- if .Values.ingress.enabled }}

üåê External Access (via Ingress):
   https://{{ .Values.ingress.host }}

   API Endpoint:      https://{{ .Values.ingress.host }}/api
   API Documentation: https://{{ .Values.ingress.host }}/docs
   Health Check:      https://{{ .Values.ingress.host }}/health

{{- else }}

üì° Internal Access (port-forward required):

1. API Service:
   kubectl port-forward -n {{ .Release.Namespace }} \
     svc/{{ include "enterprise-agent-platform.fullname" . }}-api {{ .Values.api.port }}:{{ .Values.api.port }}

   Access at: http://localhost:{{ .Values.api.port }}

{{- if .Values.frontend.enabled }}

2. Frontend:
   kubectl port-forward -n {{ .Release.Namespace }} \
     svc/{{ include "enterprise-agent-platform.fullname" . }}-frontend 8080:80

   Access at: http://localhost:8080
{{- end }}

{{- end }}

================================================================================
üîê SECURITY NOTES
================================================================================

{{- if eq .Values.secrets.secretKey "dev-secret-key-not-for-production" }}
‚ö†Ô∏è  WARNING: Using default SECRET_KEY!
   Please update secrets in values.yaml or use external-secrets operator.
{{- end }}

{{- if not .Values.networkPolicy.enabled }}
‚ö†Ô∏è  WARNING: NetworkPolicy is disabled!
   Enable networkPolicy.enabled=true for production deployments.
{{- end }}

‚úÖ Security Features Enabled:
   - Non-root containers (UID 1000)
   - Read-only root filesystem
   - Dropped all capabilities
   - seccompProfile: RuntimeDefault
{{- if .Values.networkPolicy.enabled }}
   - NetworkPolicy enforcement
{{- end }}
{{- if .Values.autoscaling.enabled }}
   - Horizontal Pod Autoscaling
{{- end }}
{{- if .Values.podDisruptionBudget.enabled }}
   - Pod Disruption Budget
{{- end }}

================================================================================
üìä MONITORING & OBSERVABILITY
================================================================================

Check pod status:
  kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

View API logs:
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=api --tail=100 -f

View worker logs:
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=worker --tail=100 -f

{{- if .Values.config.enableTelemetry }}

OpenTelemetry traces are being exported to:
  {{ .Values.config.otlpEndpoint }}
{{- end }}

================================================================================
üîß NEXT STEPS
================================================================================

1. Verify all pods are running:
   kubectl get pods -n {{ .Release.Namespace }}

2. Check deployment health:
   kubectl get deployment -n {{ .Release.Namespace }}

3. Test API endpoint:
{{- if .Values.ingress.enabled }}
   curl https://{{ .Values.ingress.host }}/health
{{- else }}
   kubectl port-forward -n {{ .Release.Namespace }} \
     svc/{{ include "enterprise-agent-platform.fullname" . }}-api {{ .Values.api.port }}:{{ .Values.api.port }} &
   curl http://localhost:{{ .Values.api.port }}/health
{{- end }}

4. Review configuration:
   helm get values {{ .Release.Name }} -n {{ .Release.Namespace }}

5. For production: Update secrets and enable ingress
   helm upgrade {{ .Release.Name }} . \
     --namespace {{ .Release.Namespace }} \
     --set secrets.secretKey=YOUR_SECRET \
     --set ingress.enabled=true \
     --set ingress.host=your-domain.com

================================================================================
üìö DOCUMENTATION
================================================================================

Helm Chart: https://github.com/enterprise-agent-platform/enterprise-agent-platform/tree/main/deploy/helm
API Docs:   Access /docs endpoint after deployment
Support:    platform@example.com

================================================================================
Thank you for deploying Enterprise Agent Platform! üéâ
================================================================================
